<link rel="stylesheet" href="~/css/LeaguePage.css">

@model LeagueMember

<div id="banner-jumbo" class="h-100">
  <div class="container">
  <div class="row mt-5 mb-5">
  <div class="col-6">
  </div>
      <div class="col-6"> 
    <div class="form-group bg-light p-5">
        @foreach(League league in ViewBag.AllLeagues) 
        {

          bool alreadyJoined = league.LeagueMembers.Any(join => Context.Session.GetInt32("UserId") == join.UserId);
          <h3>@league.Name</h3>
          <p>@league.Description</p>
          <p>Start Date: @league.StartDate</p>
          <form asp-controller="Event" asp-action="JoinLeague" asp-route-leagueId="@league.LeagueId" method="POST" class="mb-4">
            @if (alreadyJoined)
            {
              <button class="btn btn-outline-danger mt-3 mb-3">Leave League</button>
            } 
            else 
            {
              <button class="btn btn-outline-success mt-3">Join League</button> 
            }
          </form>
        }
    </div>
      </div>
    </div>
  </div>
</div>
